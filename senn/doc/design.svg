<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="740px" preserveAspectRatio="none" style="width:555px;height:740px;" version="1.1" viewBox="0 0 555 740" width="555px" zoomAndPan="magnify"><defs><filter height="300%" id="fbz5mbvm373t3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5891b99a7eee63e7b239ad02809485ce]
cluster senn--><polygon fill="#FFFFFF" filter="url(#fbz5mbvm373t3)" points="453,494,497,494,504,516.2969,533,516.2969,533,581,453,581,453,494" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="453" x2="504" y1="516.2969" y2="516.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38" x="457" y="508.9951">senn</text><!--MD5=[82e9b82210379fb7838e950c38f0806f]
cluster fcitx-senn--><polygon fill="#FFFFFF" filter="url(#fbz5mbvm373t3)" points="22,152,110,152,117,174.2969,351,174.2969,351,728,22,728,22,152" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="117" y1="174.2969" y2="174.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="26" y="166.9951">fcitx-senn</text><!--MD5=[23cbaadc18b1780d966e07254adaec4d]
cluster frontend--><polygon fill="#FFFFFF" filter="url(#fbz5mbvm373t3)" points="85,195,162,195,169,217.2969,262,217.2969,262,282,85,282,85,195" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="85" x2="169" y1="217.2969" y2="217.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="89" y="209.9951">frontend</text><!--MD5=[47c14c564e796a575e671c2b0469a7bb]
cluster backend--><polygon fill="#FFFFFF" filter="url(#fbz5mbvm373t3)" points="46,331,119,331,126,353.2969,327,353.2969,327,704,46,704,46,331" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="126" y1="353.2969" y2="353.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="50" y="345.9951">backend</text><!--MD5=[284a5b379e0e627dda52ab5c2057f39a]
cluster stateful-im--><polygon fill="#FFFFFF" filter="url(#fbz5mbvm373t3)" points="141,374,239,374,246,396.2969,303,396.2969,303,461,141,461,141,374" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="141" x2="246" y1="396.2969" y2="396.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="145" y="388.9951">stateful-im</text><!--MD5=[9dfbd9b4b22b43a18bfc384767cc6112]
cluster input-processor--><polygon fill="#FFFFFF" filter="url(#fbz5mbvm373t3)" points="146,494,281,494,288,516.2969,298,516.2969,298,680,146,680,146,494" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="146" x2="288" y1="516.2969" y2="516.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="150" y="508.9951">input-processor</text><!--MD5=[c0f53b31ac6bc61da689df9afd70510b]
entity ime--><rect fill="#FEFECE" filter="url(#fbz5mbvm373t3)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="469.5" y="529"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="464.5" y="534"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="464.5" y="555.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="479.5" y="551.9951">ime</text><!--MD5=[85bead529d89c2113e70913fbdef214f]
entity DoInput--><rect fill="#FEFECE" filter="url(#fbz5mbvm373t3)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="168" y="230"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="163" y="235"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="163" y="256.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="178" y="252.9951">DoInput</text><!--MD5=[bf1b4add2ee2e1b53e65912b20fb7ef4]
entity ui--><rect fill="#FEFECE" filter="url(#fbz5mbvm373t3)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="32" x="101" y="230"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="96" y="235"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="96" y="256.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="111" y="252.9951">ui</text><!--MD5=[48af7236ebe878760a3516eafd0f9e45]
entity menu--><rect fill="#FEFECE" filter="url(#fbz5mbvm373t3)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="62" y="409"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="57" y="414"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="57" y="435.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="72" y="431.9951">menu</text><!--MD5=[7378b7c7d8dd2234e0156e80c74e53ad]
entity handle-request--><rect fill="#FEFECE" filter="url(#fbz5mbvm373t3)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="157.5" y="409"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="152.5" y="414"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="152.5" y="435.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="167.5" y="431.9951">handle-request</text><!--MD5=[d1dd71779cef83793e9fb449d83636a2]
entity process-input--><rect fill="#FEFECE" filter="url(#fbz5mbvm373t3)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="162" y="529"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="157" y="534"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="157" y="555.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="172" y="551.9951">process-input</text><!--MD5=[f350ee6f6cc17b9109e91461bf56a5ea]
entity state--><rect fill="#FEFECE" filter="url(#fbz5mbvm373t3)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="193" y="628"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="188" y="633"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="188" y="654.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="203" y="650.9951">state</text><!--MD5=[fee662a292a0353a69bd162820bae93b]
entity User--><ellipse cx="164" cy="17.5" fill="#FEFECE" filter="url(#fbz5mbvm373t3)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M164,25.5 L164,52.5 M151,33.5 L177,33.5 M164,52.5 L151,67.5 M164,52.5 L177,67.5 " fill="none" filter="url(#fbz5mbvm373t3)" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="148.5" y="85.9951">User</text><!--MD5=[67031ae1febddc95e827fcca1d8a3539]
link DoInput to handle-request--><path d="M208.466,266.294 C211.341,300.219 217.689,375.125 220.551,408.897 " fill="none" id="DoInput-handle-request" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="214" y="311.0669">process-input</text><!--MD5=[be6d494b2c37a3b62a515d7bf903ba16]
link handle-request to process-input--><path d="M222,445.158 C222,467.53 222,506.439 222,528.821 " fill="none" id="handle-request-process-input" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8ea0743568f797ef7182fecf6c335563]
link process-input to state--><path d="M222,565.342 C222,582.998 222,610.207 222,627.808 " fill="none" id="process-input-state" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[268b7417d6490bf32c2789982c5f5744]
link process-input to ime--><path d="M282.144,547 C341.087,547 427.926,547 469.343,547 " fill="none" id="process-input-ime" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="300.25" y="540.0669">convert, lookup, predict</text><!--MD5=[02cd8774ced85f52cea37786f26e3d04]
link ui to menu--><path d="M114.557,266.294 C109.766,300.219 99.1857,375.125 94.4157,408.897 " fill="none" id="ui-menu" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="111" y="311.0669">spawn</text><!--MD5=[726ba7560173f8a4fc020a7b0a7fe86f]
link User to DoInput--><path d="M172.702,89.467 C182.027,132.299 196.403,198.328 203.196,229.527 " fill="none" id="User-DoInput" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="183" y="132.0669">key</text><!--MD5=[6e2d087bcca10a9b6549da48108ccf62]
link User to ui--><path d="M151.365,89.016 C148.44,98.768 145.465,109.222 143,119 C133.079,158.359 124.32,205.257 119.949,229.908 " fill="none" id="User-ui" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="144" y="132.0669">click</text><!--MD5=[919bcb910dd5fe778ef826be8ef568f6]
@startuml
package "senn" {                                                                                                                                                
 [ime]                                                                                                                                                          
}                                                                                                                                                               
                                                                                                                                                                
package "fcitx-senn" {                                                                                                                                          
  folder "frontend" {                                                                                                                                           
    [DoInput]                                                                                                                                                   
    [ui]                                                                                                                                                        
  }                                                                                                                                                             
                                                                                                                                                                
  folder "backend" {                                                                                                                                            
    [menu]                                                                                                                                                      
    folder "stateful-im" {                                                                                                                                      
      [handle-request]                                                                                                                                          
    }                                                                                                                                                           
                                                                                                                                                                
    folder "input-processor" {                                                                                                                                  
      [process-input]                                                                                                                                           
      [state]                                                                                                                                                   
    }                                                                                                                                                           
  }                                                                                                                                                             
                                                                                                                                                                
  [DoInput] - - [handle-request] : process-input                                                                                                                 
  [handle-request] - - [process-input]                                                                                                                           
  [process-input] - - [state]                                                                                                                                    
  [process-input] - [ime] : convert, lookup, predict                                                                                                            
                                                                                                                                                                
  [ui] - [menu] : spawn                                                                                                                                         
}                                                                                                                                                               
                                                                                                                                                                
                                                                                                                                                                
:User: - - DoInput : key                                                                                                                                         
:User: - - ui: click
@enduml

PlantUML version 1.2020.11beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>